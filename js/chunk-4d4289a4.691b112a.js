(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d4289a4"],{1223:function(e,t,c){"use strict";c.r(t);var o=c("7a23"),n=c("f2e2");const r={class:"group-title"},a={class:"component-list"},l=["onDragstart","onDragend"];var i=Object(o["defineComponent"])({__name:"component-list",props:{componentGroupList:{type:Array,required:!1,default:()=>[]}},setup(e){const t=(e,t)=>{e.dataTransfer&&e.dataTransfer.setData("code",t.code)},c=(e,t)=>{};return(n,i)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.componentGroupList,(e,n)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:n,class:"component-group"},[Object(o["createElementVNode"])("div",r,Object(o["toDisplayString"])(e.groupName),1),Object(o["createElementVNode"])("div",a,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.componentList,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.code,class:"component-item",onDragstart:c=>t(c,e),onDragend:t=>c(t,e),draggable:"true"},Object(o["toDisplayString"])(e.name),41,l))),128))])]))),128))]))}}),s=(c("b837"),c("6b0d")),u=c.n(s);const d=u()(i,[["__scopeId","data-v-68ed0654"]]);var m=d,p=c("ff2c"),b=c("c168");const f=(e,t)=>{const c={code:e,name:t};return c},O=[{groupName:"基础表单组件",componentList:[f("inputText","单行文本框"),f("inputNumber","数字输入框"),f("inputPassword","密码输入框"),f("textarea","多行文本框"),f("radioGroup","单选框组"),f("checkboxGroup","复选框组"),f("singleSelect","单选下拉选"),f("multiSelect","多选下拉选")]},{groupName:"高级表单组件",componentList:[f("imgUploader","图片上传"),f("fileUploader","文件上传")]}],j={inputText:{schema:{type:p["a"].STRING,title:"文本输入框"},uiSchema:{[p["e"]]:{placeholder:"请输入文本",clearable:!0}}},inputNumber:{schema:{type:p["a"].NUMBER,title:"数字输入框"},uiSchema:{[p["e"]]:{placeholder:"请输入数字",clearable:!0}}},inputPassword:{schema:{type:p["a"].STRING,title:"密码输入框"},uiSchema:{[p["e"]]:{placeholder:"请输入密码",type:"password"}}},textarea:{schema:{type:p["a"].STRING,title:"多行文本框"},uiSchema:{[p["e"]]:{placeholder:"请输入内容",type:"textarea",row:10}}},radioGroup:{schema:{type:p["a"].STRING,title:"单选框组",oneOf:[Object(b["b"])("item1","选项1"),Object(b["b"])("item2","选项2"),Object(b["b"])("item3","选项3")]},uiSchema:{[p["e"]]:{placeholder:"请选择"},[p["f"]]:p["h"].RADIO}},checkboxGroup:{schema:{type:p["a"].ARRAY,title:"复选框组",anyOf:[Object(b["b"])("item1","选项1"),Object(b["b"])("item2","选项2"),Object(b["b"])("item3","选项3")]},uiSchema:{[p["e"]]:{placeholder:"请选择"},[p["f"]]:p["h"].CHECKBOX}},singleSelect:{schema:{type:p["a"].STRING,title:"单选下拉选",oneOf:[Object(b["b"])("item1","选项1"),Object(b["b"])("item2","选项2"),Object(b["b"])("item3","选项3")]},uiSchema:{[p["e"]]:{placeholder:"请选择"}}},multiSelect:{schema:{type:p["a"].ARRAY,title:"多选下拉选",anyOf:[Object(b["b"])("item1","选项1"),Object(b["b"])("item2","选项2"),Object(b["b"])("item3","选项3")]},uiSchema:{[p["e"]]:{placeholder:"请选择"}}}},h=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),c=[];let o=0;const n=t.length;if(e)for(o=0;o<e;o++)c[o]=t[0|Math.random()*n];else{let e;for(c[8]=c[13]=c[18]=c[23]="-",c[14]="4",o=0;o<36;o++)c[o]||(e=0|16*Math.random(),c[o]=t[19===o?3&e|8:e])}return c.join("")};var v=c("7b31"),g=Object(o["defineComponent"])({__name:"designer",props:{formAttr:{type:Object,required:!0}},emits:["form-click","field-click"],setup(e,{emit:t}){const c=Object(o["ref"])({properties:{},required:[]}),n=Object(o["ref"])({}),r=Object(o["ref"])({}),a="selected-item",l="selected-item-opt",i=Object(o["ref"])(!1),s=Object(o["ref"])([]),u=Object(o["ref"])(-1),d=e=>{i.value=!0},m=e=>{if(i.value=!1,console.log("放置元素",e),!e.dataTransfer)return;const t=e.dataTransfer.getData("code"),c=j[t];if(!c)return void v["a"].warning("该组件正在开发中....");const o=h(6);s.value.push({code:t,key:o}),u.value=s.value.length-1},p=e=>{const t=document.createElement("div");return t.className="opt-btn opt-btn-"+e,"copy"===e?t.onclick=b:"delete"===e&&(t.onclick=f),t},b=()=>{const e=u.value;if(-1===e)return;const t=s.value[e],c=h(6);s.value.splice(e+1,0,{code:t.code,key:c}),u.value=e+1},f=()=>{const e=u.value;-1!==e&&(s.value.splice(e,1),u.value=-1)},O=()=>{const e=document.createElement("div");return e.className=l,e.appendChild(p("copy")),e.appendChild(p("delete")),e},g=e=>{const c=document.querySelectorAll(".designer .HaForm .el-form-item");if(!c)return;u.value=e;const o=document.querySelectorAll(".designer ."+l);o.forEach(e=>{e.remove()}),c.forEach((t,c)=>{const o=t;c===e?(o.classList.add(a),o.appendChild(O())):o.classList.remove(a)}),t("field-click")},y=()=>{t("form-click")};return Object(o["watchEffect"])(()=>{c.value={properties:{},required:[]},n.value={},s.value.forEach(e=>{const t=j[e.code];t&&(c.value.properties[e.key]={...t.schema},n.value[e.key]={...t.uiSchema})}),console.log("render schema"),Object(o["nextTick"])(()=>{const e=document.querySelectorAll(".designer .HaForm .el-form-item");e.forEach((e,t)=>{const c=e;c.draggable=!0,c.onclick=e=>(g(t),e.stopPropagation(),!1)}),u.value>=0&&g(u.value)})}),(t,a)=>{const l=Object(o["resolveComponent"])("ha-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["designer",i.value?"active":""]),onClick:y,onDragenter:d,onDragleave:a[0]||(a[0]=e=>i.value=!1),onDrop:m,onDragover:a[1]||(a[1]=e=>e.preventDefault())},[Object(o["createVNode"])(l,Object(o["mergeProps"])({schema:c.value,model:r.value,"ui-schema":n.value,column:1},e.formAttr),null,16,["schema","model","ui-schema"])],34)}}});c("9381");const y=u()(g,[["__scopeId","data-v-684a9add"]]);var k=y;const N={properties:{column:{type:"number",title:"列数"},labelPosition:{type:"string",title:"标签位置",oneOf:[{const:"left",title:"left"},{const:"right",title:"right"},{const:"top",title:"top"}]},labelWidth:{type:"string",title:"标签宽度"},labelSuffix:{type:"string",title:"标签后缀"},size:{type:"string",title:"表单尺寸",oneOf:[{const:"small",title:"small"},{const:"large",title:"large"},{const:"default",title:"default"}]},disabled:{type:"boolean",title:"是否禁用"}},required:[]},E={labelPosition:{"ui:widget":"radio"},size:{"ui:widget":"radio"}},S=Object(o["createTextVNode"])("User");var C=Object(o["defineComponent"])({__name:"attr-edit",props:{tab:{type:String,required:!0},formAttrModel:{type:Object,required:!0}},setup(e){const t=e,c=Object(o["ref"])(t.tab),n=Object(o["ref"])(t.formAttrModel);return Object(o["watch"])(()=>t.tab,()=>{c.value=t.tab}),(e,t)=>{const r=Object(o["resolveComponent"])("el-tab-pane"),a=Object(o["resolveComponent"])("ha-form"),l=Object(o["resolveComponent"])("el-tabs");return Object(o["openBlock"])(),Object(o["createBlock"])(l,{type:"border-card",stretch:"",class:"attr-edit",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,{label:"字段属性",name:"field"},{default:Object(o["withCtx"])(()=>[S]),_:1}),Object(o["createVNode"])(r,{label:"表单属性",name:"form"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(a,{schema:Object(o["unref"])(N),model:n.value,"ui-schema":Object(o["unref"])(E),column:1},null,8,["schema","model","ui-schema"])]),_:1})]),_:1},8,["modelValue"])}}});c("6867");const B=u()(C,[["__scopeId","data-v-f23fa160"]]);var w=B,R=Object(o["defineComponent"])({__name:"index",setup(e){const t=Object(o["ref"])("form"),c=()=>{t.value="form"},r=()=>{t.value="field"},a=Object(o["ref"])({column:3,labelPosition:"right",labelWidth:"auto",labelSuffix:":",size:"small",disabled:!1});return(e,l)=>(Object(o["openBlock"])(),Object(o["createBlock"])(n["a"],null,{left:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,{"component-group-list":Object(o["unref"])(O)},null,8,["component-group-list"])]),center:Object(o["withCtx"])(()=>[Object(o["createVNode"])(k,{"form-attr":a.value,onFormClick:c,onFieldClick:r},null,8,["form-attr"])]),right:Object(o["withCtx"])(()=>[Object(o["createVNode"])(w,{tab:t.value,"form-attr-model":a.value},null,8,["tab","form-attr-model"])]),_:1}))}});const T=R;t["default"]=T},"1d60":function(e,t,c){},"505b":function(e,t,c){},"63a6":function(e,t,c){"use strict";c("9fe6")},6867:function(e,t,c){"use strict";c("9582")},9381:function(e,t,c){"use strict";c("1d60")},9582:function(e,t,c){},"9fe6":function(e,t,c){},b837:function(e,t,c){"use strict";c("505b")},c168:function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return r})),c.d(t,"e",(function(){return a})),c.d(t,"d",(function(){return l})),c.d(t,"c",(function(){return m}));var o=c("ff2c");const n="current-prop-change",r=(e,t)=>({const:e,title:t||e}),a=(e,t)=>{t.title="属性"+e,t.key="prop"+e},l=e=>{const t={title:"",key:"",type:o["a"].STRING,defaultValue:null,isRequired:!1,ofItemType:"none",maxLength:-1,ofList:[],hidden:!1,disabled:!1,width:"",column:1,widget:o["h"].INPUT};return a(e,t),t},i=e=>{const t={type:e.type,title:e.title};return"oneOf"===e.ofItemType?t.oneOf=e.ofList:"anyOf"===e.ofItemType&&(t.anyOf=e.ofList),e.maxLength&&e.maxLength>0&&(t.maxLength=e.maxLength),e.format&&(t.format=e.format),t},s=(e,t,c,o)=>{e[c]&&(t[o]=e[c])},u=e=>{const t={};return s(e,t,"hidden",o["d"]),s(e,t,"disabled",o["c"]),s(e,t,"width",o["g"]),e.widget!==o["h"].INPUT&&(t[o["f"]]=e.widget),null!==e.column&&1!==e.column&&(t[o["b"]]=e.column),Object.keys(t).length>0?t:null},d=e=>{const{type:t,defaultValue:c}=e;return void 0!==c&&null!==c?t===o["a"].STRING?c:t===o["a"].NUMBER?Number(c):t===o["a"].BOOLEAN?"true"===c:t===o["a"].ARRAY?c.split(","):e.defaultValue:t===o["a"].STRING?"":t===o["a"].NUMBER?0:t===o["a"].BOOLEAN||(t===o["a"].ARRAY?[]:void 0)},m=e=>{const t={properties:{},required:[]},c={},o={};return e&&0!==e.length?(e.forEach(e=>{const n=e.key,r=i(e);t.properties[e.key]=r,e.isRequired&&(t.required||(t.required=[]),t.required.push(n));const a=u(e);a&&(c[n]=a),o[n]=d(e)}),{schema:t,uiSchema:c,model:o}):{schema:t,uiSchema:c,model:o}}},f2e2:function(e,t,c){"use strict";var o=c("7a23"),n=c("afbc");const r=()=>{const e=[];return n["b"].forEach(t=>{"/"!==t.path&&e.push({path:t.path,title:t.meta.title})}),e};var a=Object(o["defineComponent"])({__name:"nav-list",setup(e){const t=r();return(e,c)=>{const n=Object(o["resolveComponent"])("el-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Object(o["unref"])(t),t=>(Object(o["openBlock"])(),Object(o["createBlock"])(n,{size:"small",key:t.path,onClick:c=>e.$router.replace(t.path),link:"",type:e.$route.path===t.path?"primary":"default"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.title),1)]),_:2},1032,["onClick","type"]))),128))])}}});const l=a;var i=l;const s=e=>(Object(o["pushScopeId"])("data-v-7a62d29d"),e=e(),Object(o["popScopeId"])(),e),u={class:"gen-demo-page"},d={class:"header"},m={class:"title"},p={class:"header-center"},b=s(()=>Object(o["createElementVNode"])("div",{class:"f1"},null,-1)),f={class:"more"},O={class:"content"},j={class:"left"},h={class:"center"},v={class:"right"};var g=Object(o["defineComponent"])({__name:"gen-demo-page",setup(e){return(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",u,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",m,"HERO Low Code - "+Object(o["toDisplayString"])(e.$route.meta["title"]),1),Object(o["createElementVNode"])("div",p,[b,Object(o["createElementVNode"])("div",null,[Object(o["renderSlot"])(e.$slots,"header")])]),Object(o["createElementVNode"])("div",f,[Object(o["createVNode"])(i)])]),Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("div",j,[Object(o["renderSlot"])(e.$slots,"left")]),Object(o["createElementVNode"])("div",h,[Object(o["renderSlot"])(e.$slots,"center")]),Object(o["createElementVNode"])("div",v,[Object(o["renderSlot"])(e.$slots,"right")])])]))}}),y=(c("63a6"),c("6b0d")),k=c.n(y);const N=k()(g,[["__scopeId","data-v-7a62d29d"]]);t["a"]=N},ff2c:function(e,t,c){"use strict";var o;c.d(t,"a",(function(){return o})),c.d(t,"d",(function(){return n})),c.d(t,"c",(function(){return r})),c.d(t,"g",(function(){return a})),c.d(t,"e",(function(){return l})),c.d(t,"f",(function(){return i})),c.d(t,"b",(function(){return s})),c.d(t,"h",(function(){return u})),function(e){e["STRING"]="string",e["NUMBER"]="number",e["ARRAY"]="array",e["BOOLEAN"]="boolean"}(o||(o={}));const n="ui:hidden",r="ui:disabled",a="ui:width",l="ui:options",i="ui:widget",s="ui:column";var u;(function(e){e["SELECT"]="select",e["RADIO"]="radio",e["CHECKBOX"]="checkbox",e["SWITCH"]="switch",e["INPUT"]="input",e["TEXTAREA"]="textarea"})(u||(u={}))}}]);
//# sourceMappingURL=chunk-4d4289a4.691b112a.js.map